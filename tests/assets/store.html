<script>
    let myVizzu = document.createElement("div");
    myVizzu.style.cssText = "width: 800px; height: 480px;";
    let chart = import("https://cdn.jsdelivr.net/npm/vizzu@~0.4.0/dist/vizzu.min.js").then(Vizzu => new Vizzu.default(myVizzu).initializing);
</script>
<script id="myVizzu">
    chart = chart.then(chart => {
        let script = document.getElementById("myVizzu");
        if (myVizzu.parentNode && myVizzu.parentNode.parentNode) {
            let display = myVizzu.parentNode.parentNode.style.display;
            myVizzu.parentNode.parentNode.style.display = "none";
            script.parentNode.parentNode.style.display = display;
        }
        script.parentNode.insertBefore(myVizzu, script);
        return chart.animate({"data": {"series": [{"name": "Foo", "values": ["Alice", "Bob", "Ted"]}, {"name": "Bar", "values": [15, 32, 12]}]}});
    });
</script>
<script>
    let snaphot;
    chart = chart.then(chart => {
        snaphot = chart.store();
        return chart;
    });
</script>
<script id="myVizzu">
    chart = chart.then(chart => {
        let script = document.getElementById("myVizzu");
        if (myVizzu.parentNode && myVizzu.parentNode.parentNode) {
            let display = myVizzu.parentNode.parentNode.style.display;
            myVizzu.parentNode.parentNode.style.display = "none";
            script.parentNode.parentNode.style.display = display;
        }
        script.parentNode.insertBefore(myVizzu, script);
        return chart.animate({"config": {"color": {"set": ["Genres"]}}, "style": {"legend": {"width": 50}}});
    });
</script>
<script>
    let snaphot;
    chart = chart.then(chart => {
        snaphot = chart.store();
        return chart;
    });
</script>
<script id="myVizzu">
    chart = chart.then(chart => {
        let script = document.getElementById("myVizzu");
        if (myVizzu.parentNode && myVizzu.parentNode.parentNode) {
            let display = myVizzu.parentNode.parentNode.style.display;
            myVizzu.parentNode.parentNode.style.display = "none";
            script.parentNode.parentNode.style.display = display;
        }
        script.parentNode.insertBefore(myVizzu, script);
        return chart.animate(snaphot, {"duration": "4s"});
    });
</script>
<script id="myVizzu">
    chart = chart.then(chart => {
        let script = document.getElementById("myVizzu");
        if (myVizzu.parentNode && myVizzu.parentNode.parentNode) {
            let display = myVizzu.parentNode.parentNode.style.display;
            myVizzu.parentNode.parentNode.style.display = "none";
            script.parentNode.parentNode.style.display = display;
        }
        script.parentNode.insertBefore(myVizzu, script);
        return chart.animate(snaphot);
    });
</script>
